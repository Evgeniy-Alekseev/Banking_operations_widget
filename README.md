# Banking operations widget
feature/homework_10_2

## Описание проекта

Проект предназначен для работы с банковскими операциями через виджет с функциями 
фильтрации, маскирования и генерации данных. В данный момент проект находится в разработке.
Проект разрабатывается в учебных целях, представлен на Github для ознакомления.

## Структура проекта

* `src/masks` - модуль отвечающий за маскировку данных;
* `src/processing` - модуль отвечающий за сортировку трансакций;
* `src/widget` - модуль содержащий основной функционал для работы с трансакциями;
* `src/generators` - модуль отвечающий за генерацию необходимых данных.

## Установка

Для пользователя:

```
poetry install --no-dev
```

Для разработчика:

```
poetry install
```

## Функционал

В проекте реализованы функции, для работы с клиентскими данными и обработки банковских операций, в частности:

- get_mask_card_number - Функция принимает на вход номер карты в виде числа и возвращает маску номера по правилу XXXX XX** **** XXXX;
- get_mask_account - Функция принимает на вход номер счета и возвращает маску номера по правилу **XXXX;
- mask_account_card - Функция работает с импортом функций get_mask_card_number и get_mask_account. 
                      Маскирует номер карты или счёта в переданной строке;
- get_date - Функция преобразует строку с датой в строку формата 'ДД.ММ.ГГГГ';
- filter_by_state - Функция фильтрует список словарей по значению ключа 'state' (по умолчанию 'EXECUTED').
                    Возвращает отфильтрованный список словарей;
- sort_by_date - Функция сортирует список словарей по дате (ключ 'date') (по умолчанию reverse = True).
                 Возвращает отсортированный список словарей (в начале новые записи);
- filter_by_currency - Функция фильтрует транзакции по валюте и возвращает итератор;
- transaction_descriptions - Генератор, который возвращает описания транзакций по запросу;
- card_number_generator - Генератор номеров банковских карт, генерирует номера от значений start до stop
    включительно, в формате XXXX XXXX XXXX XXXX.

## Тестирование

Проект покрыт комплексными тестами с использованием `pytest`. Тесты проверяют как основную функциональность, 
так и обработку граничных случаев. На основании проведённых тестов Code coverage покрытие составляет 84%.

### Тестовые модули

1. **Тесты фильтрации транзакций**:
   - Фильтрация по статусу (`EXECUTED`, `PENDING`, `CANCELED`)
   - Обработка транзакций без статуса
   - Работа с пустым списком транзакций
   - Реакция на некорректные входные данные
   - Фильтрация по заданной валюте

2. **Тесты сортировки по дате**:
   - Сортировка по возрастанию и убыванию
   - Обработка транзакций с одинаковыми датами
   - Работа с граничными значениями дат (минимальная/максимальная дата)
   - Обработка некорректных форматов даты

3. **Тесты маскировки данных**:
   - Корректная маскировка номеров счетов
   - Маскировка разных типов карт (Visa, MasterCard, МИР)
   - Обработка некорректных входных данных
   
4. **Генератор номеров карт**:
   - Проверка генерации последовательности
   - Корректность форматирования
   - Обработка граничных значений
   - Проверка корректной фильтрации
   - Обработка отсутствующих данных
   - Параметризованные тесты для разных валют
   
### Запуск тестов

Для запуска тестов выполните команду:

```bash
pytest -v